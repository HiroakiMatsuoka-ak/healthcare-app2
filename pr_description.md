# 運動記録機能を追加

## 概要
運動記録機能を新たに追加し、ユーザーが日々の運動を記録して消費カロリーを自動計算できる機能を実装しました。食事記録機能と同様の使いやすいUIで、包括的なヘルスケア管理が可能になります。

## 主な変更内容

### バックエンド
- **データモデル追加**
  - `WorkoutMenu`: 運動メニュー（名前、消費カロリー/分、カテゴリ、強度）
  - `WorkoutItem`: 運動アイテム（運動ID、実施時間）
  - `WorkoutRecord`: 運動記録（日付、総消費カロリー、運動リスト）
  - `WorkoutRecordInput`: 運動記録入力用

- **運動メニューデータベース（24種類）**
  - 有酸素運動: ウォーキング、ジョギング、ランニング、サイクリング、水泳、エアロビクス、縄跳び
  - 筋力トレーニング: 腕立て伏せ、腹筋、スクワット、ダンベル、懸垂、プランク
  - ストレッチ: 全身ストレッチ、ヨガ、ピラティス
  - 球技: テニス、バスケットボール、サッカー、バドミントン
  - その他: 階段昇降、掃除、庭仕事、ダンス

- **APIエンドポイント追加**
  - `GET /api/workout-menu`: 全運動メニュー取得
  - `GET /api/workout-menu/category/{category}`: カテゴリ別運動メニュー取得
  - `GET /api/workouts`: 運動記録取得（日付フィルター対応）
  - `POST /api/workouts`: 運動記録追加
  - `GET /api/today-workouts`: 今日の総消費カロリー取得

### フロントエンド
- **AddWorkoutDialog コンポーネント**
  - カテゴリ別運動選択（アコーディオン形式）
  - 5分単位での運動時間調整（+/-ボタン）
  - リアルタイム消費カロリー計算表示
  - 運動強度の視覚的表示（軽度/中度/高度）

- **WorkoutDetailCard コンポーネント**
  - 今日の運動記録一覧表示
  - 総消費カロリーと総運動時間の集計
  - 運動セッションごとの詳細表示
  - 運動カテゴリと強度のチップ表示

- **メインダッシュボード統合**
  - 3カラムレイアウトに運動記録カード追加
  - クイックアクションに運動記録ボタン追加
  - 食事記録と統一されたUI/UX

- **カスタムHooks追加**
  - `useWorkouts`: 運動記録の取得・追加・更新
  - `useWorkoutMenu`: 運動メニューデータの取得
  - `useTodayWorkouts`: 今日の総消費カロリー取得

- **TypeScript型定義**
  - 運動関連の完全な型安全性を提供

## 技術的特徴
- **一貫したアーキテクチャ**: 食事記録機能と同じパターンで実装
- **複数運動対応**: 1回のセッションで複数の運動を記録可能
- **自動計算**: 運動時間×消費カロリー/分で自動計算
- **レスポンシブデザイン**: モバイル・デスクトップ両対応
- **エラーハンドリング**: API通信エラーの適切な処理

## ファイル変更一覧
- **新規作成**
  - `src/components/AddWorkoutDialog.tsx`
  - `src/components/WorkoutDetailCard.tsx`
  
- **変更**
  - `backend/main.py`: データモデル、API、モックデータ追加
  - `src/App.tsx`: 運動記録機能統合
  - `src/services/apiService.ts`: 運動関連API型定義・関数追加
  - `src/hooks/useHealthData.ts`: 運動関連カスタムhooks追加

## テスト済み機能
- ✅ 運動メニューの表示とカテゴリ別フィルタリング
- ✅ 運動時間の調整と消費カロリー計算
- ✅ 複数運動の同時記録
- ✅ 運動記録の一覧表示と詳細情報
- ✅ ダッシュボードへの統合表示
- ✅ バックエンドAPIの動作確認
- ✅ フロントエンドUIの動作確認

## レビューポイント
- データモデルの設計が適切か
- UI/UXが食事記録機能と一貫しているか
- エラーハンドリングが十分か
- コンポーネントの再利用性
- パフォーマンスへの影響
- TypeScript型定義の適切性

## 動作確認手順
1. バックエンドを起動: `cd backend && python main.py`
2. フロントエンドを起動: `npm start`
3. ブラウザで `http://localhost:3000` にアクセス
4. 「運動を記録」ボタンをクリック
5. 運動を選択して時間を設定し、記録を追加
6. ダッシュボードで運動記録カードを確認
